@using AdministracionActivosSobrantes.OutRequest
@using AdministracionActivosSobrantes.Users
@using MvcPaging
@model AdministracionActivosSobrantes.OutRequest.Dto.SearchOutRequestInput

@Html.HiddenFor(model => model.Query, new { @id = "SrchQuery_hidden" })
@Html.HiddenFor(model => model.Page, new { @id = "SrchPage_hidden" })
@Html.HiddenFor(model => model.CellarId, new { @id = "SrchBodegaId_hidden" })
@Html.HiddenFor(model => model.ProjectId, new { @id = "SrchProyectoId_hidden" })
@if (Model != null && Model.Entities != null && Model.Entities.Any())
{
    <div class="wrapper wrapper-content white-bg">
        <div class="wrapper-content">
            <div style="text-align: right">
                @Html.Pager(Model.Entities.PageSize, Model.Entities.PageNumber, Model.Entities.TotalItemCount, new AjaxOptions { UpdateTargetId = "anyListEntity" }).Options(o => o.Action("AjaxPage").DisplayTemplate("Bootstrap3Pagination").AddRouteValue("query", Model.Query))
            </div>

            <div class="table-responsive">
                <table id="TableListEntity" class="table" style="font-size: small">
                    <thead>
                        <tr>
                            <th style="text-align: center">
                               Compañia
                            </th>
                            <th style="text-align: center">
                                Solicitud No.
                            </th>
                            <th style="text-align: center">
                                Ubicación
                            </th>
                            <th style="text-align: center">
                                Tipo
                            </th>
                            <th style="text-align: center">
                                Estado
                            </th>
                            <th style="text-align: center">
                                Fecha Creación
                            </th>
                            <th style="text-align: center">
                                Creada Por
                            </th>

                            <th style="text-align: center">
                                Fecha Requerida
                            </th>
                            <th style="text-align: center">
                                Entrega el AuxiliarUca
                            </th>
                            <th>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.Entities.OrderBy(a => a.Status))
                        {
                            if (Model.User.Department == item.Department && Model.User.Rol == UserRoles.Solicitante || Model.User.Department == item.Department && Model.User.Rol == UserRoles.Coordinador)
                            {
                                var rowId = "tableRowId" + item.Id;
                                <tr id='@rowId'>
                                    <td style="text-align: center">
                                        @item.CompanyName
                                    </td>
                                    <td style="text-align: center">
                                        @item.RequestNumber
                                    </td>
                                    <td style="text-align: center">
                                        @item.Cellar.Name
                                    </td>
                                    <td style="text-align: center">
                                        @if (item.TypeOutRequest == TypeOutRequest.Asset)
                                        {
                                            <span class="label label-info">Salida por Activos</span>
                                        }
                                        else if (item.TypeOutRequest == TypeOutRequest.LeftOver)
                                        {
                                            <span class="label label-success">Salida por Sobrante</span>
                                        }
                                    </td>
                                    <td style="text-align: center">
                                        @if (item.Status == OutRequestStatus.Active)
                                        {
                                            <span class="label label-info">Activa</span>
                                        }
                                        else if (item.Status == OutRequestStatus.Approved)
                                        {
                                            <span class="label label-success">Aprobada</span>
                                        }
                                        else if (item.Status == OutRequestStatus.Confirmado)
                                        {
                                            <span class="label label-danger">Confirmado</span>
                                        }
                                        else if (item.Status == OutRequestStatus.WaitApproval)
                                        {
                                            <span class="label label-primary">Esperando Aprobación</span>
                                        }
                                        else if (item.Status == OutRequestStatus.ProcessedInWareHouse)
                                        {
                                            <span class="label label-warning">Entregada</span>
                                        }
                                        else if (item.Status == OutRequestStatus.Disproved)
                                        {
                                            <span class="label label-danger">Rechazada</span>
                                        }
                                        else if (item.Status == OutRequestStatus.Backorder)
                                        {
                                            <span class="label label-danger">BackOrder</span>
                                        }
                                    </td>
                                    <td style="text-align: center">
                                        @item.CreationTime.ToShortDateString()
                                    </td>

                                    <td style="text-align: center">
                                        @Model.Users.Where(a => a.Id == item.CreatorUserId).FirstOrDefault().UserName
                                    </td>
                                    <td style="text-align: center">
                                        @if (item.AssetsReturnDate != null)
                                        {
                                            @item.AssetsReturnDate.Value.ToShortDateString()
                                        }
                                        else
                                        {
                                            <p>No Asignada</p>
                                        }
                                    </td>
                                    <td style="text-align: center">
                                        @if (item.WareHouseManId != null)
                                        {
                                            @Model.Users.Where(a => a.Id == item.WareHouseManId).FirstOrDefault().UserName
                                        }
                                        else
                                        {
                                            <p>No Asignado</p>
                                        }
                                    </td>
                                    <td style="text-align: center">
                                        <a class="btn btn-xs btn-info" href='@Url.Action("Details", "OutRequests", new { id = item.Id })' title="Detalle de la Solicitud">
                                            <span class="glyphicon glyphicon-list" aria-hidden="true"></span>
                                        </a>
                                        @*  @if ( Model.User.Rol == UserRoles.SupervisorUca || Model.User.Rol == UserRoles.AuxiliarUca && item.Status == OutRequestStatus.Backorder || item.Status == OutRequestStatus.ProcessedInWareHouse)
                                            {
                                            <a class="btn btn-xs btn-info" title="Descargar Pdf de la Solicitud" href='@Url.Action("OutRequestDetails", "PdfGenerator", new { id = item.Id })'>
                                                <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
                                            </a>
                                            }*@
                                        @if (item.Status == OutRequestStatus.Active && item.CreatorUserId == Model.UserId && Model.User.Rol != UserRoles.AuxiliarUca)
                                        {
                                            <a class="btn btn-xs btn-primary" onclick="paseAprovalFunc($(this))" data-idrequest='@item.Id' title="Pasar solicitud para ser aprobada">
                                                <span class="glyphicon glyphicon-share" aria-hidden="true"></span>
                                            </a>

                                            <a class="btn btn-xs btn-danger" onclick="deleteFunc($(this))" data-idrequest='@item.Id' title="Borrar la Solicitud">
                                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                            </a>
                                        }


                                        @if (item.Status == OutRequestStatus.WaitApproval && Model.User.Rol == UserRoles.Coordinador || item.Status == OutRequestStatus.Approved && Model.User.Rol == UserRoles.SuperAdministrador
                                          || item.Status == OutRequestStatus.WaitApproval && Model.User.Rol == UserRoles.SuperAdministrador || item.Status == OutRequestStatus.WaitApproval && Model.User.Rol == UserRoles.SupervisorUca
                    || item.Status == OutRequestStatus.WaitApproval && Model.User.Rol == UserRoles.Solicitante
                    || item.Status == OutRequestStatus.Active && Model.User.Rol == UserRoles.Solicitante
                    || item.Status == OutRequestStatus.Approved && Model.User.Rol == UserRoles.SupervisorUca
                    || item.Status == OutRequestStatus.Active && Model.User.Rol == UserRoles.Coordinador
                    || item.Status == OutRequestStatus.Active && Model.User.Rol == UserRoles.SuperAdministrador)
                                        {
                                            <a class="btn btn-xs btn-default" href='@Url.Action("Edit", "OutRequests", new { id = item.Id, impreso = 0 })' title="Editar la Solicitud">
                                                <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                                            </a>
                                        }

                                        @if (Model.User.Rol == UserRoles.Coordinador || Model.User.Rol == UserRoles.SupervisorUca || Model.User.Rol == UserRoles.SuperAdministrador)
                                        {
                                            if (item.Status == OutRequestStatus.WaitApproval)

                                            {
                                                <a class="btn btn-xs btn-primary" onclick="aprovalFunc($(this))" data-idrequest='@item.Id' title="Aprobar o Rechazar Solicitud">
                                                    <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                                                </a>

                                                /*    <a class="btn btn-xs btn-danger" onclick="cancelacionfun($(this))" data-idrequest='@item.Id' title="Cancelar la solicitud">
                                                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>*/


                                                // para cancelar la solicitud lo que seria el boton de cerrar la solicutd

                                            }
                                        }
                                        @*    @if (Model.User.Rol == UserRoles.SupervisorUca || Model.User.Rol == UserRoles.SuperAdministrador && item.Status == OutRequestStatus.Backorder || item.Status == OutRequestStatus.ProcessedInWareHouse)
                                            {
                                            <a class="btn btn-xs btn-danger" onclick="closeFunc($(this))" data-idrequest='@item.Id' title="Cancelar o Cerrar Lineas de Solicitud.">
                                                <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                                            </a>
                                            }*@
                                        @if (Model.User.Rol == UserRoles.AuxiliarUca || Model.User.Rol == UserRoles.SupervisorUca || Model.User.Rol == UserRoles.SuperAdministrador)
                                        {
                                            if (item.Status == OutRequestStatus.Approved || item.Status == OutRequestStatus.Backorder)
                                            {
                                                <a class="btn btn-xs btn-primary" href='@Url.Action("DeliverRequest", "OutRequests", new { id = item.Id, impreso = 0 })' title="Entregar Solicitud">
                                                    <span class="glyphicon glyphicon-share" aria-hidden="true"></span>
                                                </a>
                                            }
                                            if (item.Status == OutRequestStatus.ProcessedInWareHouse)
                                            {
                                                <a class="btn btn-xs btn-primary" href='@Url.Action("DeliverRequest", "OutRequests", new { id = item.Id, impreso = 0 })' title="Editar imagenes de Solicitud">
                                                    <span class="glyphicon glyphicon-share" aria-hidden="true"></span>
                                                </a>
                                            }
                                            if (item.Status == OutRequestStatus.Approved && Model.User.Rol == UserRoles.SupervisorUca
                                              || item.Status == OutRequestStatus.Backorder && Model.User.Rol == UserRoles.SupervisorUca
                                              || item.Status == OutRequestStatus.ProcessedInWareHouse && Model.User.Rol == UserRoles.SupervisorUca
                                              || item.Status == OutRequestStatus.Approved && Model.User.Rol == UserRoles.SuperAdministrador
                                              || item.Status == OutRequestStatus.Backorder && Model.User.Rol == UserRoles.SuperAdministrador
                                              || item.Status == OutRequestStatus.ProcessedInWareHouse && Model.User.Rol == UserRoles.SuperAdministrador
                                              )
                                            {
                                                <a class="btn btn-xs btn-warning" onclick="closeFunc($(this))" data-idrequest='@item.Id' title="Confirmar Solicitud.">
                                                    <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                                                </a>
                                            }
                                        }

                                    </td>
                                </tr>
                            }
                            else
                            {
                                if (Model.User.Rol == UserRoles.SuperAdministrador || Model.User.Rol == UserRoles.SupervisorUca)
                                {
                                    var rowId = "tableRowId" + item.Id;
                                    <tr id='@rowId'>
                                        <td style="text-align: center">
                                            @item.CompanyName
                                        </td>
                                        <td style="text-align: center">
                                            @item.RequestNumber
                                        </td>
                                        <td style="text-align: center">
                                            @item.Cellar.Name
                                        </td>
                                        <td style="text-align: center">
                                            @if (item.TypeOutRequest == TypeOutRequest.Asset)
                                            {
                                                <span class="label label-info">Salida por Activos</span>
                                            }
                                            else if (item.TypeOutRequest == TypeOutRequest.LeftOver)
                                            {
                                                <span class="label label-success">Salida por Sobrante</span>
                                            }
                                        </td>
                                        <td style="text-align: center">
                                            @if (item.Status == OutRequestStatus.Active)
                                            {
                                                <span class="label label-info">Activa</span>
                                            }
                                            else if (item.Status == OutRequestStatus.Approved)
                                            {
                                                <span class="label label-success">Aprobada</span>
                                            }
                                            else if (item.Status == OutRequestStatus.Confirmado)
                                            {
                                                <span class="label label-danger">Confirmado</span>
                                            }
                                            else if (item.Status == OutRequestStatus.WaitApproval)
                                            {
                                                <span class="label label-primary">Esperando Aprobación</span>
                                            }
                                            else if (item.Status == OutRequestStatus.ProcessedInWareHouse)
                                            {
                                                <span class="label label-warning">Entregada</span>
                                            }
                                            else if (item.Status == OutRequestStatus.Disproved)
                                            {
                                                <span class="label label-danger">Rechazada</span>
                                            }
                                            else if (item.Status == OutRequestStatus.Backorder)
                                            {
                                                <span class="label label-danger">BackOrder</span>
                                            }
                                        </td>
                                        <td style="text-align: center">
                                            @item.CreationTime.ToShortDateString()
                                        </td>

                                        <td style="text-align: center">
                                            @if (item.CreatorUserId != null)
                                            {
                                            @Model.Users.Where(a => a.Id == item.CreatorUserId).FirstOrDefault().UserName
                                            }
                                            else
                                            {
                                                <p>No Definido</p>
                                            }

                                            </td>
                                        <td style="text-align: center">
                                            @if (item.AssetsReturnDate != null)
                                            {
                                                @item.AssetsReturnDate.Value.ToShortDateString()
                                            }
                                            else
                                            {
                                                <p>No Asignada</p>
                                            }
                                        </td>
                                        <td style="text-align: center">
                                            @if (item.WareHouseManId != null)
                                            {
                                                @Model.Users.Where(a => a.Id == item.WareHouseManId).FirstOrDefault().UserName
                                            }
                                            else
                                            {
                                                <p>No Asignado</p>
                                            }
                                        </td>
                                        <td style="text-align: center">
                                            <a class="btn btn-xs btn-info" href='@Url.Action("Details", "OutRequests", new { id = item.Id })' title="Detalle de la Solicitud">
                                                <span class="glyphicon glyphicon-list" aria-hidden="true"></span>
                                            </a>
                                            @*  @if ( Model.User.Rol == UserRoles.SupervisorUca || Model.User.Rol == UserRoles.AuxiliarUca && item.Status == OutRequestStatus.Backorder || item.Status == OutRequestStatus.ProcessedInWareHouse)
                                                {
                                                <a class="btn btn-xs btn-info" title="Descargar Pdf de la Solicitud" href='@Url.Action("OutRequestDetails", "PdfGenerator", new { id = item.Id })'>
                                                    <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
                                                </a>
                                                }*@
                                            @if (item.Status == OutRequestStatus.Active && item.CreatorUserId == Model.UserId)
                                            {
                                                <a class="btn btn-xs btn-primary" onclick="paseAprovalFunc($(this))" data-idrequest='@item.Id' title="Pasar solicitud para ser aprobada">
                                                    <span class="glyphicon glyphicon-share" aria-hidden="true"></span>
                                                </a>

                                                <a class="btn btn-xs btn-danger" onclick="deleteFunc($(this))" data-idrequest='@item.Id' title="Borrar la Solicitud">
                                                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                                </a>
                                            }


                                            @if (item.Status == OutRequestStatus.WaitApproval && Model.User.Rol == UserRoles.Coordinador
        || item.Status == OutRequestStatus.Approved && Model.User.Rol == UserRoles.SuperAdministrador
        || item.Status == OutRequestStatus.WaitApproval && Model.User.Rol == UserRoles.SuperAdministrador
        || item.Status == OutRequestStatus.WaitApproval && Model.User.Rol == UserRoles.SupervisorUca
        || item.Status == OutRequestStatus.WaitApproval && Model.User.Rol == UserRoles.Solicitante
        || item.Status == OutRequestStatus.Active && Model.User.Rol == UserRoles.Solicitante
        || item.Status == OutRequestStatus.Approved && Model.User.Rol == UserRoles.SupervisorUca
        || item.Status == OutRequestStatus.Active && Model.User.Rol == UserRoles.Coordinador
        || item.Status == OutRequestStatus.Active && Model.User.Rol == UserRoles.SuperAdministrador)
                                            {
                                                <a class="btn btn-xs btn-default" href='@Url.Action("Edit", "OutRequests", new { id = item.Id, impreso = 0 })' title="Editar la Solicitud">
                                                    <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                                                </a>
                                            }

                                            @if (Model.User.Rol == UserRoles.Coordinador || Model.User.Rol == UserRoles.SupervisorUca || Model.User.Rol == UserRoles.SuperAdministrador)
                                            {
                                                if (item.Status == OutRequestStatus.WaitApproval)

                                                {
                                                    <a class="btn btn-xs btn-primary" onclick="aprovalFunc($(this))" data-idrequest='@item.Id' title="Aprobar o Rechazar Solicitud">
                                                        <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                                                    </a>

                                                    /*    <a class="btn btn-xs btn-danger" onclick="cancelacionfun($(this))" data-idrequest='@item.Id' title="Cancelar la solicitud">
                                                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>*/


                                                    // para cancelar la solicitud lo que seria el boton de cerrar la solicutd

                                                }
                                            }
                                            @*    @if (Model.User.Rol == UserRoles.SupervisorUca || Model.User.Rol == UserRoles.SuperAdministrador && item.Status == OutRequestStatus.Backorder || item.Status == OutRequestStatus.ProcessedInWareHouse)
                                                {
                                                <a class="btn btn-xs btn-danger" onclick="closeFunc($(this))" data-idrequest='@item.Id' title="Cancelar o Cerrar Lineas de Solicitud.">
                                                    <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                                                </a>
                                                }*@
                                            @if (Model.User.Rol == UserRoles.AuxiliarUca || Model.User.Rol == UserRoles.SupervisorUca || Model.User.Rol == UserRoles.SuperAdministrador)
                                            {
                                                if (item.Status == OutRequestStatus.Approved || item.Status == OutRequestStatus.Backorder)
                                                {
                                                    <a class="btn btn-xs btn-primary" href='@Url.Action("DeliverRequest", "OutRequests", new { id = item.Id, impreso = 0 })' title="Entregar Solicitud">
                                                        <span class="glyphicon glyphicon-share" aria-hidden="true"></span>
                                                    </a>
                                                }
                                                if (item.Status == OutRequestStatus.ProcessedInWareHouse)
                                                {
                                                    <a class="btn btn-xs btn-primary" href='@Url.Action("DeliverRequest", "OutRequests", new { id = item.Id, impreso = 0 })' title="Editar imagenes de Solicitud">
                                                        <span class="glyphicon glyphicon-share" aria-hidden="true"></span>
                                                    </a>
                                                }
                                                if (item.Status == OutRequestStatus.Approved && Model.User.Rol == UserRoles.SupervisorUca
                                                  || item.Status == OutRequestStatus.Backorder && Model.User.Rol == UserRoles.SupervisorUca
                                                  || item.Status == OutRequestStatus.ProcessedInWareHouse && Model.User.Rol == UserRoles.SupervisorUca
                                                  || item.Status == OutRequestStatus.Approved && Model.User.Rol == UserRoles.SuperAdministrador
                                                  || item.Status == OutRequestStatus.Backorder && Model.User.Rol == UserRoles.SuperAdministrador
                                                  || item.Status == OutRequestStatus.ProcessedInWareHouse && Model.User.Rol == UserRoles.SuperAdministrador
                                                  )
                                                {
                                                    <a class="btn btn-xs btn-warning" onclick="closeFunc($(this))" data-idrequest='@item.Id' title="Confirmar Solicitud.">
                                                        <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                                                    </a>
                                                }
                                            }

                                        </td>
                                    </tr>
                                }
                                if (Model.User.Rol == UserRoles.AuxiliarUca)
                                {
                                    if (item.Status != OutRequestStatus.Active || item.CreatorUserId == Model.UserId )
                                    {
                                        var rowId = "tableRowId" + item.Id;
                                        <tr id='@rowId'>
                                            <td style="text-align: center">
                                                @item.CompanyName
                                            </td>
                                            <td style="text-align: center">
                                                @item.RequestNumber
                                            </td>
                                            <td style="text-align: center">
                                                @item.Cellar.Name
                                            </td>
                                            <td style="text-align: center">
                                                @if (item.TypeOutRequest == TypeOutRequest.Asset)
                                                {
                                                    <span class="label label-info">Salida por Activos</span>
                                                }
                                                else if (item.TypeOutRequest == TypeOutRequest.LeftOver)
                                                {
                                                    <span class="label label-success">Salida por Sobrante</span>
                                                }
                                            </td>
                                            <td style="text-align: center">
                                                @if (item.Status == OutRequestStatus.Active)
                                                {
                                                    <span class="label label-info">Activa</span>
                                                }
                                                else if (item.Status == OutRequestStatus.Approved)
                                                {
                                                    <span class="label label-success">Aprobada</span>
                                                }
                                                else if (item.Status == OutRequestStatus.Confirmado)
                                                {
                                                    <span class="label label-danger">Confirmado</span>
                                                }
                                                else if (item.Status == OutRequestStatus.WaitApproval)
                                                {
                                                    <span class="label label-primary">Esperando Aprobación</span>
                                                }
                                                else if (item.Status == OutRequestStatus.ProcessedInWareHouse)
                                                {
                                                    <span class="label label-warning">Entregada</span>
                                                }
                                                else if (item.Status == OutRequestStatus.Disproved)
                                                {
                                                    <span class="label label-danger">Rechazada</span>
                                                }
                                                else if (item.Status == OutRequestStatus.Backorder)
                                                {
                                                    <span class="label label-danger">BackOrder</span>
                                                }
                                            </td>
                                            <td style="text-align: center">
                                                @item.CreationTime.ToShortDateString()
                                            </td>

                                            <td style="text-align: center">
                                                    @Model.Users.Where(a => a.Id == item.CreatorUserId).FirstOrDefault().UserName           
                                            </td>
                                            <td style="text-align: center">
                                                @if (item.AssetsReturnDate != null)
                                                {
                                                    @item.AssetsReturnDate.Value.ToShortDateString()
                                                }
                                                else
                                                {
                                                    <p>No Asignada</p>
                                                }
                                            </td>
                                            <td style="text-align: center">
                                                @if (item.WareHouseManId != null)
                                                {
                                                    @Model.Users.Where(a => a.Id == item.WareHouseManId).FirstOrDefault().UserName
                                                }
                                                else
                                                {
                                                    <p>No Asignado</p>
                                                }
                                            </td>
                                            <td style="text-align: center">
                                                <a class="btn btn-xs btn-info" href='@Url.Action("Details", "OutRequests", new { id = item.Id })' title="Detalle de la Solicitud">
                                                    <span class="glyphicon glyphicon-list" aria-hidden="true"></span>
                                                </a>
                                                @*  @if ( Model.User.Rol == UserRoles.SupervisorUca || Model.User.Rol == UserRoles.AuxiliarUca && item.Status == OutRequestStatus.Backorder || item.Status == OutRequestStatus.ProcessedInWareHouse)
                                                    {
                                                    <a class="btn btn-xs btn-info" title="Descargar Pdf de la Solicitud" href='@Url.Action("OutRequestDetails", "PdfGenerator", new { id = item.Id })'>
                                                        <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
                                                    </a>
                                                    }*@
                                                @if (item.Status == OutRequestStatus.Active && item.CreatorUserId == Model.UserId)
                                                {
                                                    <a class="btn btn-xs btn-primary" onclick="paseAprovalFunc($(this))" data-idrequest='@item.Id' title="Pasar solicitud para ser aprobada">
                                                        <span class="glyphicon glyphicon-share" aria-hidden="true"></span>
                                                    </a>

                                                    <a class="btn btn-xs btn-danger" onclick="deleteFunc($(this))" data-idrequest='@item.Id' title="Borrar la Solicitud">
                                                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                                    </a>
                                                }


                                                @if (item.Status == OutRequestStatus.WaitApproval && Model.User.Rol == UserRoles.Coordinador
|| item.Status == OutRequestStatus.Approved && Model.User.Rol == UserRoles.SuperAdministrador
|| item.Status == OutRequestStatus.WaitApproval && Model.User.Rol == UserRoles.SuperAdministrador
|| item.Status == OutRequestStatus.WaitApproval && Model.User.Rol == UserRoles.SupervisorUca
|| item.Status == OutRequestStatus.WaitApproval && Model.User.Rol == UserRoles.Solicitante
|| item.Status == OutRequestStatus.Active && Model.User.Rol == UserRoles.Solicitante
|| item.Status == OutRequestStatus.Approved && Model.User.Rol == UserRoles.SupervisorUca
|| item.Status == OutRequestStatus.Active && Model.User.Rol == UserRoles.Coordinador
|| item.Status == OutRequestStatus.Active && Model.User.Rol == UserRoles.SuperAdministrador)
                                                {
                                                    <a class="btn btn-xs btn-default" href='@Url.Action("Edit", "OutRequests", new { id = item.Id, impreso = 0 })' title="Editar la Solicitud">
                                                        <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                                                    </a>
                                                }

                                                @if (Model.User.Rol == UserRoles.Coordinador || Model.User.Rol == UserRoles.SupervisorUca || Model.User.Rol == UserRoles.SuperAdministrador)
                                                {
                                                    if (item.Status == OutRequestStatus.WaitApproval)

                                                    {
                                                        <a class="btn btn-xs btn-primary" onclick="aprovalFunc($(this))" data-idrequest='@item.Id' title="Aprobar o Rechazar Solicitud">
                                                            <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                                                        </a>

                                                        /*    <a class="btn btn-xs btn-danger" onclick="cancelacionfun($(this))" data-idrequest='@item.Id' title="Cancelar la solicitud">
                                                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>*/


                                                        // para cancelar la solicitud lo que seria el boton de cerrar la solicutd

                                                    }
                                                }
                                                @*    @if (Model.User.Rol == UserRoles.SupervisorUca || Model.User.Rol == UserRoles.SuperAdministrador && item.Status == OutRequestStatus.Backorder || item.Status == OutRequestStatus.ProcessedInWareHouse)
                                                    {
                                                    <a class="btn btn-xs btn-danger" onclick="closeFunc($(this))" data-idrequest='@item.Id' title="Cancelar o Cerrar Lineas de Solicitud.">
                                                        <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                                                    </a>
                                                    }*@
                                                @if (Model.User.Rol == UserRoles.AuxiliarUca || Model.User.Rol == UserRoles.SupervisorUca || Model.User.Rol == UserRoles.SuperAdministrador)
                                                {
                                                    if (item.Status == OutRequestStatus.Approved || item.Status == OutRequestStatus.Backorder)
                                                    {
                                                        <a class="btn btn-xs btn-primary" href='@Url.Action("DeliverRequest", "OutRequests", new { id = item.Id, impreso = 0 })' title="Entregar Solicitud">
                                                            <span class="glyphicon glyphicon-share" aria-hidden="true"></span>
                                                        </a>
                                                    }
                                                    if (item.Status == OutRequestStatus.ProcessedInWareHouse)
                                                    {
                                                        <a class="btn btn-xs btn-primary" href='@Url.Action("DeliverRequest", "OutRequests", new { id = item.Id, impreso = 0 })' title="Editar imagenes de Solicitud">
                                                            <span class="glyphicon glyphicon-share" aria-hidden="true"></span>
                                                        </a>
                                                    }
                                                    if (item.Status == OutRequestStatus.Approved && Model.User.Rol == UserRoles.SupervisorUca
                                                      || item.Status == OutRequestStatus.Backorder && Model.User.Rol == UserRoles.SupervisorUca
                                                      || item.Status == OutRequestStatus.ProcessedInWareHouse && Model.User.Rol == UserRoles.SupervisorUca
                                                      || item.Status == OutRequestStatus.Approved && Model.User.Rol == UserRoles.SuperAdministrador
                                                      || item.Status == OutRequestStatus.Backorder && Model.User.Rol == UserRoles.SuperAdministrador
                                                      || item.Status == OutRequestStatus.ProcessedInWareHouse && Model.User.Rol == UserRoles.SuperAdministrador
                                                      )
                                                    {
                                                        <a class="btn btn-xs btn-warning" onclick="closeFunc($(this))" data-idrequest='@item.Id' title="Confirmar Solicitud.">
                                                            <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                                                        </a>
                                                    }
                                                }

                                            </td>
                                        </tr>
                                    }
                                }
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>

}
else
{
    <div class="wrapper wrapper-content">
        <div class="alert alert-warning alert-dismissible" role="alert" style="text-align: center;">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <strong>¡No se han encontrado ninguna solicitud de salida registrada!</strong>
        </div>
    </div>

}
